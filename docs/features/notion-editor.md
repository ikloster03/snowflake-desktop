# Notion-подобный редактор

В приложении Snowflake интегрирован мощный Notion-подобный редактор для написания и редактирования глав книг.

## Возможности

### Форматирование текста
- **Жирный текст** (Ctrl+B)
- *Курсив* (Ctrl+I)
- <u>Подчеркивание</u> (Ctrl+U)
- ~~Зачеркивание~~
- `Код`
- ==Выделение==

### Заголовки
- Заголовок 1 (H1)
- Заголовок 2 (H2)
- Заголовок 3 (H3)

### Списки
- Маркированные списки
- Нумерованные списки

### Блоки
- Цитаты
- Таблицы
- Горизонтальные линии

### Выравнивание
- По левому краю
- По центру
- По правому краю

## Использование

### Панель инструментов
В верхней части редактора расположена панель инструментов с кнопками для быстрого форматирования текста.

### Горячие клавиши
- `Ctrl+B` - жирный текст
- `Ctrl+I` - курсив
- `Ctrl+U` - подчеркивание
- `Ctrl+Z` - отмена
- `Ctrl+Y` - повтор

### Автосохранение
Текст автоматически сохраняется каждые 10 секунд при наличии изменений.

## Технические детали

### Формат хранения
Текст глав сохраняется в формате HTML в файлах с расширением `.html` в директории проекта.

### Миграция
При первом открытии главы, созданной в старой версии (текстовый формат), происходит автоматическая миграция в HTML-формат.

### Резервные копии
При каждом сохранении создается резервная копия предыдущей версии файла.

## Структура файлов

```
project/
├── books/
│   └── [book-id]/
│       ├── chapters.json
│       └── text/
│           ├── [chapter-id].html
│           └── [chapter-id].backup.html
```

## Компоненты

### NotionEditor.vue
Основной компонент редактора, построенный на базе TipTap.

**Props:**
- `modelValue: string` - HTML-контент
- `placeholder?: string` - текст-заполнитель
- `readonly?: boolean` - режим только для чтения

**Events:**
- `update:modelValue` - изменение контента
- `change` - изменение контента (дублирует update:modelValue)

### Расширения TipTap
- StarterKit - базовая функциональность
- Placeholder - текст-заполнитель
- Typography - типографика
- Table - таблицы
- CodeBlockLowlight - блоки кода с подсветкой
- Highlight - выделение текста
- TextAlign - выравнивание
- Underline - подчеркивание
- Subscript/Superscript - подстрочный/надстрочный текст
- HorizontalRule - горизонтальные линии 
